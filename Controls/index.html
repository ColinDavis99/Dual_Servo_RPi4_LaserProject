
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
  </head>
  
  <style>
  
  </style>
  
  <body onload="draw();">
	<h1>Balloon Blitz Battle Version 1.1</h1>
	<h2>A laser shooting game by Colin Davis and Sean Maglione</h2>
	<h3>For ELE408 - Embedded System Design<h3>
	<h3 style="margin-bottom: 100px">Instructor: Profressor Brenden Smerbeck</h3>
 
  <h2>Controls Map &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Balloon Map</h2>
  <canvas id="myCanvas" width="810" height="400" style="border:1px solid #d3d3d3;">

	<script>
    function drawControlsMap() {
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
	  ctx.moveTo(430, 0);
	  ctx.lineTo(430, 400);
	  ctx.strokeStyle = "#d3d3d3";
      ctx.stroke();
	  ctx.beginPath();
      ctx.lineWidth=2;
      ctx.rect(20, 160, 120, 80); // left
      ctx.rect(280, 160, 120, 80); // right
      ctx.rect(150, 60, 120, 80); // up
      ctx.rect(150, 260, 120, 80); // down
	  ctx.strokeStyle = "black";
	  ctx.stroke();
      ctx.beginPath();
      ctx.lineWidth=2;
      ctx.arc(210, 200, 50, 0, 2 * Math.PI, false);
      ctx.stroke();
    }
    
    function actionLeft(fillColor) {
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.linewidth=2;
      ctx.rect(20, 160, 120, 80); // left
      ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
    }
    
    function actionRight(fillColor) {
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.linewidth=2;
      ctx.rect(280, 160, 120, 80); // right
      ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
    }
    
    function actionUp(fillColor) {
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.linewidth=2;
      ctx.rect(150, 60, 120, 80); // up
      ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
    }
    
    function actionDown(fillColor) {
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.linewidth=2;
      ctx.rect(150, 260, 120, 80); // down
      ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
    }
    
    function actionFire(fillColor) {
      var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.linewidth=2;
      ctx.arc(240, 200, 50, 0, 2 * Math.PI, false);
      ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
      
    }
	
	function drawBalloonMap() {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
      ctx.arc(500, 120, 50, 0, 2 * Math.PI, false); // top left
      ctx.stroke();
	  ctx.beginPath();
	  ctx.lineWidth=2;
	  ctx.arc(620, 120, 50, 0, 2 * Math.PI, false); // top mid
      ctx.stroke();
	  ctx.beginPath();
	  ctx.lineWidth=2;
	  ctx.arc(740, 120, 50, 0, 2 * Math.PI, false); // top right
      ctx.stroke();
	  ctx.beginPath();
	  ctx.lineWidth=2;
	  ctx.arc(500, 260, 50, 0, 2 * Math.PI, false); // bottom left
      ctx.stroke();
      ctx.beginPath();
	  ctx.lineWidth=2;
	  ctx.arc(620, 260, 50, 0, 2 * Math.PI, false); // bottom mid
      ctx.stroke();
      ctx.beginPath();
	  ctx.lineWidth=2;
	  ctx.arc(740, 260, 50, 0, 2 * Math.PI, false); // bottom right
      ctx.stroke();
	}

	function actionTopLeft(fillColor) {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
      ctx.arc(500, 120, 50, 0, 2 * Math.PI, false); // top left
	  ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
	}
	
	function actionTopMid(fillColor) {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
	  ctx.arc(620, 120, 50, 0, 2 * Math.PI, false); // top mid
	  ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
	}
	
	function actionTopRight(fillColor) {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
	  ctx.arc(740, 120, 50, 0, 2 * Math.PI, false); // top right
	  ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
	}
	
	function actionBottomLeft(fillColor) {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
	  ctx.arc(500, 260, 50, 0, 2 * Math.PI, false); // bottom left
	  ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
	}
	
	function actionBottomMid(fillColor) {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
	  ctx.arc(620, 260, 50, 0, 2 * Math.PI, false); // bottom mid
	  ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
	}
	
	function actionBottomRight(fillColor) {
	  var c = document.getElementById("myCanvas");
      var ctx = c.getContext("2d");
      ctx.beginPath();
      ctx.lineWidth=2;
	  ctx.arc(740, 260, 50, 0, 2 * Math.PI, false); // bottom right
	  ctx.fillStyle = fillColor;
      ctx.fill();
      ctx.stroke();
	}
		
    
    // running code 
    
    drawControlsMap();
	drawBalloonMap();
		
    //update every 250 milisec (0.25 seconds)
    var update1 = setInterval(function() {
        fetch("controls_data.json")
            .then(response => response.json())
            .then(data => {
          
                if (data.left_active == 0) {
                  actionLeft("white");
                } else if (data.left_active == 1) {
                  actionLeft("green");
                } else {
                  actionLeft("black");
                  // INDICATES ERROR
                }
                
                if (data.right_active == 0) {
                  actionRight("white");
                } else if (data.right_active == 1) {
                  actionRight("green");
                } else {
                  actionRight("black");
                  // INDICATES ERROR
                }
          
                if (data.up_active == 0) {
                  actionUp("white");
                } else if (data.up_active == 1) {
                  actionUp("green");
                } else {
                  actionUp("black");
                  // INDICATES ERROR
                }
          
                if (data.down_active == 0) {
                  actionDown("white");
                } else if (data.down_active == 1) {
                  actionDown("green");
                } else {
                  actionDown("black");
                  // INDICATES ERROR
                }
          
                if (data.firing_active == 0) {
                  actionFire("white");
                } else if (data.firing_active == 1) {
                  actionFire("green");
                } else {
                  actionFire("black");
                  // INDICATES ERROR
                }
        })    
    }, 250);
		
	//update every 250 milisec (0.25 seconds)
    var update2 = setInterval(function() {
        fetch("balloon_data.json")
            .then(response => response.json())
            .then(data => {
          
                if (data.top_left_popped == 0) {
                  actionLeft("white");
                } else if (data.top_left_popped == 1) {
                  actionLeft("red");
                } else {
                  actionLeft("black");
                  // INDICATES ERROR
                }
                
                if (data.top_mid_popped == 0) {
                  actionRight("white");
                } else if (data.top_mid_popped == 1) {
                  actionRight("red");
                } else {
                  actionRight("black");
                  // INDICATES ERROR
                }
          
                if (data.top_right_popped == 0) {
                  actionUp("white");
                } else if (data.top_right_popped == 1) {
                  actionUp("red");
                } else {
                  actionUp("black");
                  // INDICATES ERROR
                }
          
                if (data.bottom_left_popped == 0) {
                  actionDown("white");
                } else if (data.bottom_left_popped == 1) {
                  actionDown("red");
                } else {
                  actionDown("black");
                  // INDICATES ERROR
                }
          
                if (data.bottom_mid_popped == 0) {
                  actionFire("white");
                } else if (data.bottom_mid_popped == 1) {
                  actionFire("red");
                } else {
                  actionFire("black");
                  // INDICATES ERROR
                }
			
				if (data.bottom_right_popped == 0) {
                  actionFire("white");
                } else if (data.bottom_right_popped == 1) {
                  actionFire("red");
                } else {
                  actionFire("black");
                  // INDICATES ERROR
                }
        })    
    }, 250);	
		
</script>
    
  </body>
</html>

